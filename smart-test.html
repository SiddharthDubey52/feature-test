<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart User Info Collection (No Permissions)</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        h1 {
            text-align: center;
            color: #5a67d8;
            margin-bottom: 10px;
            font-size: 2.5em;
        }
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 1.1em;
        }
        button {
            display: block;
            width: 100%;
            padding: 15px;
            font-size: 1.2em;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 20px;
        }
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .info-card {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            border-left: 4px solid #667eea;
        }
        .info-card h3 {
            margin-top: 0;
            color: #495057;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .info-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #e9ecef;
        }
        .info-label {
            font-weight: bold;
            color: #495057;
        }
        .info-value {
            color: #6c757d;
            text-align: right;
            max-width: 60%;
            word-break: break-word;
        }
        .loading {
            text-align: center;
            color: #667eea;
            font-style: italic;
            padding: 20px;
        }
        .status {
            text-align: center;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
        }
        .success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .accuracy-badge {
            background: #28a745;
            color: white;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.8em;
            margin-left: 10px;
        }
        details {
            margin-top: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
        }
        summary {
            cursor: pointer;
            font-weight: bold;
            padding: 10px;
            background: #e9ecef;
            border-radius: 5px;
            margin: -15px -15px 15px -15px;
        }
        pre {
            background: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîç Advanced User Tracker</h1>
        <p class="subtitle">
            Comprehensive user tracking and device fingerprinting system<br>
            <strong>Like IPLogger - Collects detailed information about visitors!</strong> Includes location, device fingerprinting, security analysis, and behavioral tracking.
        </p>
        
        <button onclick="collectInfo()">üöÄ Track My Information (Full Analysis)</button>
        <button onclick="collectInfo(true)" style="background: linear-gradient(45deg, #28a745, #20c997); margin-top: 10px;">üåç Demo with Public IP Simulation</button>
        
        <div id="result"></div>
    </div>

    <script>
        // Initialize user behavior tracking
        window.mouseEvents = [];
        window.clickEvents = [];
        window.scrollEvents = [];
        window.keyEvents = [];

        // Track user interactions
        document.addEventListener('mousemove', (e) => {
            window.mouseEvents.push({ x: e.clientX, y: e.clientY, time: Date.now() });
            if (window.mouseEvents.length > 100) window.mouseEvents.shift(); // Keep only last 100
        });

        document.addEventListener('click', (e) => {
            window.clickEvents.push({ x: e.clientX, y: e.clientY, time: Date.now() });
            if (window.clickEvents.length > 50) window.clickEvents.shift();
        });

        document.addEventListener('scroll', () => {
            window.scrollEvents.push({ scrollY: window.scrollY, time: Date.now() });
            if (window.scrollEvents.length > 50) window.scrollEvents.shift();
        });

        document.addEventListener('keydown', (e) => {
            window.keyEvents.push({ key: e.key, time: Date.now() });
            if (window.keyEvents.length > 100) window.keyEvents.shift();
        });

        // Canvas fingerprinting
        function getCanvasFingerprint() {
            try {
                const canvas = document.createElement('canvas');
                const ctx = canvas.getContext('2d');
                
                // Draw various shapes and text
                ctx.textBaseline = 'top';
                ctx.font = '14px Arial';
                ctx.fillText('Canvas fingerprinting text üé®', 2, 2);
                
                ctx.fillStyle = 'rgba(102, 204, 0, 0.7)';
                ctx.fillRect(100, 5, 80, 20);
                
                ctx.fillStyle = '#f60';
                ctx.fillRect(150, 15, 62, 20);
                
                return canvas.toDataURL();
            } catch (e) {
                return 'Canvas fingerprinting failed';
            }
        }

        // WebGL fingerprinting
        function getWebGLFingerprint() {
            try {
                const canvas = document.createElement('canvas');
                const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
                
                if (!gl) return 'WebGL not supported';
                
                const debugInfo = gl.getExtension('WEBGL_debug_renderer_info');
                return {
                    vendor: gl.getParameter(gl.VENDOR),
                    renderer: gl.getParameter(gl.RENDERER),
                    version: gl.getParameter(gl.VERSION),
                    shadingLanguageVersion: gl.getParameter(gl.SHADING_LANGUAGE_VERSION),
                    unmaskedVendor: debugInfo ? gl.getParameter(debugInfo.UNMASKED_VENDOR_WEBGL) : null,
                    unmaskedRenderer: debugInfo ? gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL) : null
                };
            } catch (e) {
                return 'WebGL fingerprinting failed';
            }
        }

        // Audio fingerprinting
        async function getAudioFingerprint() {
            try {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const analyser = audioContext.createAnalyser();
                const gainNode = audioContext.createGain();
                const scriptProcessor = audioContext.createScriptProcessor(4096, 1, 1);
                
                oscillator.type = 'triangle';
                oscillator.frequency.setValueAtTime(10000, audioContext.currentTime);
                
                gainNode.gain.setValueAtTime(0, audioContext.currentTime);
                
                oscillator.connect(analyser);
                analyser.connect(scriptProcessor);
                scriptProcessor.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.start(0);
                
                return new Promise((resolve) => {
                    scriptProcessor.onaudioprocess = function(bins) {
                        const input = bins.inputBuffer.getChannelData(0);
                        let fingerprint = 0;
                        for (let i = 0; i < input.length; i++) {
                            fingerprint += Math.abs(input[i]);
                        }
                        oscillator.stop();
                        scriptProcessor.disconnect();
                        resolve(fingerprint.toString());
                    };
                });
            } catch (e) {
                return 'Audio fingerprinting failed';
            }
        }

        // Font detection
        function detectAvailableFonts() {
            const baseFonts = ['monospace', 'sans-serif', 'serif'];
            const testFonts = [
                'Arial', 'Helvetica', 'Times New Roman', 'Courier New', 'Verdana',
                'Georgia', 'Palatino', 'Garamond', 'Bookman', 'Comic Sans MS',
                'Trebuchet MS', 'Arial Black', 'Impact', 'Lucida Sans Unicode',
                'Tahoma', 'Geneva', 'Lucida Console', 'Monaco', 'Brush Script MT'
            ];
            
            const canvas = document.createElement('canvas');
            const context = canvas.getContext('2d');
            context.font = '72px monospace';
            const baseWidth = context.measureText('mmmmmmmmmmlli').width;
            
            const availableFonts = [];
            
            for (const font of testFonts) {
                context.font = `72px ${font}, monospace`;
                const width = context.measureText('mmmmmmmmmmlli').width;
                if (width !== baseWidth) {
                    availableFonts.push(font);
                }
            }
            
            return availableFonts;
        }

        // Permission checking
        async function checkPermissions() {
            const permissions = {};
            const permissionsToCheck = [
                'geolocation', 'notifications', 'camera', 'microphone',
                'clipboard-read', 'clipboard-write'
            ];
            
            for (const permission of permissionsToCheck) {
                try {
                    const result = await navigator.permissions.query({ name: permission });
                    permissions[permission] = result.state;
                } catch (e) {
                    permissions[permission] = 'unknown';
                }
            }
            
            return permissions;
        }

        // Helper function to get current position with better error handling
        function getCurrentPosition(options = {}) {
            return new Promise((resolve, reject) => {
                if (!navigator.geolocation) {
                    reject(new Error('Geolocation is not supported by this browser'));
                    return;
                }

                const defaultOptions = {
                    enableHighAccuracy: true,
                    timeout: 10000, // 10 seconds
                    maximumAge: 300000 // 5 minutes
                };

                const finalOptions = { ...defaultOptions, ...options };

                navigator.geolocation.getCurrentPosition(
                    (position) => {
                        resolve(position);
                    },
                    (error) => {
                        let errorMessage = 'Location access denied';
                        switch (error.code) {
                            case error.PERMISSION_DENIED:
                                errorMessage = 'Location access denied by user';
                                break;
                            case error.POSITION_UNAVAILABLE:
                                errorMessage = 'Location information unavailable';
                                break;
                            case error.TIMEOUT:
                                errorMessage = 'Location request timed out';
                                break;
                            default:
                                errorMessage = 'An unknown error occurred while retrieving location';
                                break;
                        }
                        reject(new Error(errorMessage));
                    },
                    finalOptions
                );
            });
        }

        async function collectInfo(demoMode = false) {
            const resultDiv = document.getElementById('result');
            
            if (demoMode) {
                resultDiv.innerHTML = '<div class="loading">üåç Simulating analysis with real public IP for demonstration...</div>';
            } else {
                resultDiv.innerHTML = '<div class="loading">üîç Analyzing your device and collecting comprehensive tracking data (like IPLogger)...</div>';
            }
            
            try {
                // Start collecting comprehensive data (like IPLogger)
                const startTime = performance.now();
                
                // Basic device info
                const basicInfo = {
                    screenResolution: `${screen.width}x${screen.height}`,
                    colorDepth: screen.colorDepth,
                    pixelRatio: window.devicePixelRatio,
                    timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
                    language: navigator.language,
                    languages: navigator.languages,
                    platform: navigator.platform,
                    cookieEnabled: navigator.cookieEnabled,
                    onlineStatus: navigator.onLine,
                    hardwareConcurrency: navigator.hardwareConcurrency,
                    deviceMemory: navigator.deviceMemory,
                    maxTouchPoints: navigator.maxTouchPoints,
                    touchSupport: 'ontouchstart' in window || navigator.maxTouchPoints > 0,
                    
                    // Advanced browser fingerprinting data
                    userAgent: navigator.userAgent,
                    vendor: navigator.vendor,
                    product: navigator.product,
                    appName: navigator.appName,
                    appVersion: navigator.appVersion,
                    buildID: navigator.buildID,
                    
                    // Network information
                    connection: navigator.connection ? {
                        effectiveType: navigator.connection.effectiveType,
                        downlink: navigator.connection.downlink,
                        rtt: navigator.connection.rtt,
                        saveData: navigator.connection.saveData
                    } : null,
                    
                    // Performance data
                    performance: {
                        timing: performance.timing ? {
                            navigationStart: performance.timing.navigationStart,
                            loadEventEnd: performance.timing.loadEventEnd,
                            domContentLoadedEventEnd: performance.timing.domContentLoadedEventEnd
                        } : null,
                        memory: performance.memory ? {
                            usedJSHeapSize: performance.memory.usedJSHeapSize,
                            totalJSHeapSize: performance.memory.totalJSHeapSize,
                            jsHeapSizeLimit: performance.memory.jsHeapSizeLimit
                        } : null
                    },
                    
                    // Canvas fingerprinting
                    canvasFingerprint: getCanvasFingerprint(),
                    
                    // WebGL fingerprinting  
                    webglFingerprint: getWebGLFingerprint(),
                    
                    // Audio fingerprinting
                    audioFingerprint: await getAudioFingerprint(),
                    
                    // Font detection
                    availableFonts: detectAvailableFonts(),
                    
                    // Plugin information
                    plugins: Array.from(navigator.plugins).map(plugin => ({
                        name: plugin.name,
                        filename: plugin.filename,
                        description: plugin.description
                    })),
                    
                    // Permissions
                    permissions: await checkPermissions(),
                    
                    // User behavior tracking
                    userBehavior: {
                        screenTime: performance.now() - startTime,
                        mouseMovement: window.mouseEvents || [],
                        clickPattern: window.clickEvents || [],
                        scrollBehavior: window.scrollEvents || [],
                        keyboardEvents: window.keyEvents || [],
                        pageVisibility: document.visibilityState
                    }
                };

                // Try to get precise location using browser geolocation API
                try {
                    resultDiv.innerHTML = '<div class="loading">üìç Requesting precise location access for enhanced accuracy...</div>';
                    
                    const position = await getCurrentPosition();
                    basicInfo.browserLocation = {
                        latitude: position.coords.latitude,
                        longitude: position.coords.longitude,
                        accuracy: position.coords.accuracy,
                        altitude: position.coords.altitude,
                        altitudeAccuracy: position.coords.altitudeAccuracy,
                        heading: position.coords.heading,
                        speed: position.coords.speed,
                        timestamp: position.timestamp,
                        source: 'browser-geolocation'
                    };
                    
                    console.log('‚úÖ Precise location obtained:', basicInfo.browserLocation);
                } catch (geoError) {
                    console.log('‚ö†Ô∏è Browser geolocation failed:', geoError.message);
                    // Continue without precise location - will use IP-based location
                    basicInfo.browserLocation = {
                        error: geoError.message,
                        source: 'browser-geolocation-failed'
                    };
                }

                // Note: Battery information is now estimated server-side without permissions

                // For demo mode, we'll add headers to simulate a real public IP
                const headers = {
                    'Content-Type': 'application/json',
                };

                // Send to API
                let apiEndpoint = '/api/user-info';
                if (demoMode) {
                    // For demo, we'll simulate by adding a custom header
                    headers['X-Demo-Mode'] = 'true';
                }

                const response = await fetch(apiEndpoint, {
                    method: 'POST',
                    headers: headers,
                    body: JSON.stringify(basicInfo)
                });

                const data = await response.json();
                
                if (data.success) {
                    displayResults(data, demoMode);
                } else {
                    resultDiv.innerHTML = `<div class="status error">‚ùå <strong>Error:</strong> ${data.message}</div>`;
                }
            } catch (error) {
                resultDiv.innerHTML = `<div class="status error">‚ùå <strong>Error:</strong> ${error.message}</div>`;
                console.error('Error:', error);
            }
        }

        function displayResults(data, demoMode = false) {
            const resultDiv = document.getElementById('result');
            const { network, device, geolocation, browser, system, summary } = data.data;
            
            // Show explanation for local testing
            let locationNote = '';
            if (geolocation.country === 'Local' && !demoMode) {
                locationNote = `
                    <div style="background: #fff3cd; color: #856404; padding: 10px; border-radius: 5px; margin: 10px 0; border: 1px solid #ffeaa7;">
                        <strong>‚ÑπÔ∏è Note:</strong> You're testing locally (localhost), so location shows as "Local". 
                        In production with real users, this will show accurate city, country, and coordinates!
                        <br><br>
                        <strong>Try the demo button above to see how it works with real location data!</strong>
                    </div>
                `;
            }
            
            resultDiv.innerHTML = `
                <div class="status success">
                    ‚úÖ <strong>Success!</strong> Information collected and saved to database.
                    <span class="accuracy-badge">${demoMode ? 'Demo Mode' : 'High Accuracy'}</span>
                </div>
                
                ${locationNote}
                
                <div class="info-grid">
                    <div class="info-card">
                        <h3>üåç Network & Location</h3>
                        <div class="info-item">
                            <span class="info-label">IP Address:</span>
                            <span class="info-value">${network.ip}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">IP-based Location:</span>
                            <span class="info-value">${geolocation.city}, ${geolocation.region}, ${geolocation.country}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">IP Coordinates:</span>
                            <span class="info-value">${geolocation.latitude && geolocation.longitude ? 
                                `${geolocation.latitude.toFixed(4)}, ${geolocation.longitude.toFixed(4)}` : 'Not available'}</span>
                        </div>
                        ${data.data.device.browserLocation && data.data.device.browserLocation.latitude ? `
                        <div class="info-item" style="background: #e8f5e8; margin: 5px 0; padding: 5px; border-radius: 3px;">
                            <span class="info-label">üéØ Precise Location:</span>
                            <span class="info-value" style="color: #28a745; font-weight: bold;">
                                ${data.data.device.browserLocation.latitude.toFixed(6)}, ${data.data.device.browserLocation.longitude.toFixed(6)}
                            </span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">üìç Accuracy:</span>
                            <span class="info-value">${Math.round(data.data.device.browserLocation.accuracy)} meters</span>
                        </div>
                        ${data.data.device.browserLocation.altitude ? `
                        <div class="info-item">
                            <span class="info-label">‚õ∞Ô∏è Altitude:</span>
                            <span class="info-value">${Math.round(data.data.device.browserLocation.altitude)} meters</span>
                        </div>
                        ` : ''}
                        ${data.data.device.browserLocation.speed ? `
                        <div class="info-item">
                            <span class="info-label">üèÉ Speed:</span>
                            <span class="info-value">${Math.round(data.data.device.browserLocation.speed * 3.6)} km/h</span>
                        </div>
                        ` : ''}
                        ` : data.data.device.browserLocation && data.data.device.browserLocation.error ? `
                        <div class="info-item" style="background: #fff3cd; margin: 5px 0; padding: 5px; border-radius: 3px;">
                            <span class="info-label">üìç Browser Location:</span>
                            <span class="info-value" style="color: #856404;">‚ùå ${data.data.device.browserLocation.error}</span>
                        </div>
                        ` : ''}
                        <div class="info-item">
                            <span class="info-label">ISP:</span>
                            <span class="info-value">${geolocation.isp || 'Unknown'}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Timezone:</span>
                            <span class="info-value">${geolocation.timezone || device.timezone}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Data Source:</span>
                            <span class="info-value">${data.data.device.browserLocation && data.data.device.browserLocation.latitude ? 
                                'GPS + IP' : geolocation.source || 'IP-based'}</span>
                        </div>
                    </div>

                    <div class="info-card">
                        <h3>ÔøΩ Security Analysis</h3>
                        ${data.data.security ? `
                        <div class="info-item">
                            <span class="info-label">Threat Level:</span>
                            <span class="info-value" style="color: ${data.data.security.threatLevel.level === 'High' ? '#dc3545' : 
                                data.data.security.threatLevel.level === 'Medium' ? '#ffc107' : '#28a745'}">
                                ${data.data.security.threatLevel.level} (${data.data.security.threatLevel.score}/100)
                            </span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Proxy/VPN:</span>
                            <span class="info-value">${data.data.security.isProxy ? '‚ö†Ô∏è Detected' : '‚úÖ None'}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Bot Detection:</span>
                            <span class="info-value">${data.data.security.isBot.isBot ? 
                                `‚ö†Ô∏è ${data.data.security.isBot.type} (${data.data.security.isBot.confidence}%)` : 
                                '‚úÖ Human User'}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Connection:</span>
                            <span class="info-value">${data.data.security.ssl.secure ? 'üîê Secure (HTTPS)' : 'üîì Insecure (HTTP)'}</span>
                        </div>
                        ` : ''}
                    </div>

                    <div class="info-card">
                        <h3>üîç Device Fingerprint</h3>
                        ${data.data.fingerprint ? `
                        <div class="info-item">
                            <span class="info-label">Fingerprint ID:</span>
                            <span class="info-value" style="font-family: monospace; font-size: 0.8em;">${data.data.fingerprint.hash.substring(0, 16)}...</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Uniqueness Score:</span>
                            <span class="info-value">${data.data.fingerprint.uniquenessScore}/100</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Confidence:</span>
                            <span class="info-value">${data.data.fingerprint.confidence}%</span>
                        </div>
                        ` : ''}
                    </div>

                    <div class="info-card">
                        <h3>üë§ Tracking Information</h3>
                        ${data.data.tracking ? `
                        <div class="info-item">
                            <span class="info-label">Session ID:</span>
                            <span class="info-value" style="font-family: monospace;">${data.data.tracking.sessionId}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Visit Count:</span>
                            <span class="info-value">${data.data.tracking.visitCount}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">First Seen:</span>
                            <span class="info-value">${new Date(data.data.tracking.firstSeen).toLocaleString()}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">User Interaction:</span>
                            <span class="info-value">${data.data.tracking.userBehavior.interactionScore}/100</span>
                        </div>
                        ${data.data.tracking.referrer ? `
                        <div class="info-item">
                            <span class="info-label">Referrer:</span>
                            <span class="info-value">${data.data.tracking.referrer}</span>
                        </div>
                        ` : ''}
                        ` : ''}
                    </div>

                    <div class="info-card">
                        <h3>ÔøΩüì± Device Information</h3>
                        <div class="info-item">
                            <span class="info-label">Device:</span>
                            <span class="info-value">${device.vendor} ${device.model}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Type:</span>
                            <span class="info-value">${device.type} ${device.isMobile ? '(Mobile)' : device.isTablet ? '(Tablet)' : '(Desktop)'}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Screen:</span>
                            <span class="info-value">${device.screenResolution} (${device.colorDepth}-bit)</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Pixel Ratio:</span>
                            <span class="info-value">${device.pixelRatio}x</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Touch Support:</span>
                            <span class="info-value">${device.touchSupport ? 'Yes' : 'No'} (${device.maxTouchPoints || 0} points)</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Hardware:</span>
                            <span class="info-value">${device.hardwareConcurrency || 'Unknown'} cores, ${device.deviceMemory || 'Unknown'} GB RAM</span>
                        </div>
                        ${device.batteryLevel !== null ? `
                        <div class="info-item">
                            <span class="info-label">Battery:</span>
                            <span class="info-value">
                                üîã ${device.batteryLevel}% 
                                ${device.batteryCharging ? '‚ö° Charging' : 'üîå Not Charging'}
                                ${device.batteryDischargingTime ? 
                                    ` (${Math.round(device.batteryDischargingTime / 60)} hrs remaining)` : ''}
                                ${device.batteryEstimated ? ' <span style="color: #666; font-size: 0.9em;">(Estimated)</span>' : ''}
                            </span>
                        </div>
                        ` : ''}
                    </div>

                    <div class="info-card">
                        <h3>üåê Browser & System</h3>
                        <div class="info-item">
                            <span class="info-label">Browser:</span>
                            <span class="info-value">${browser.name} ${browser.version}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Engine:</span>
                            <span class="info-value">${browser.engine} ${browser.engineVersion}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Operating System:</span>
                            <span class="info-value">${system.os} ${system.osVersion}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Architecture:</span>
                            <span class="info-value">${system.architecture}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Language:</span>
                            <span class="info-value">${device.language}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Platform:</span>
                            <span class="info-value">${device.platform}</span>
                        </div>
                    </div>

                    <div class="info-card">
                        <h3>üìä Database Record</h3>
                        <div class="info-item">
                            <span class="info-label">Record ID:</span>
                            <span class="info-value">${data.database.id}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Saved At:</span>
                            <span class="info-value">${new Date(data.database.savedAt).toLocaleString()}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Status:</span>
                            <span class="info-value">${data.database.saved ? '‚úÖ Saved' : '‚ùå Failed'}</span>
                        </div>
                    </div>
                </div>

                <details>
                    <summary>üîç Full API Response (Technical Details)</summary>
                    <pre>${JSON.stringify(data, null, 2)}</pre>
                </details>
            `;
        }

        // Optional: Auto-collect on page load
        // window.addEventListener('load', collectInfo);
    </script>
</body>
</html>
